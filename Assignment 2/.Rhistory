knitr::opts_chunk$set(echo = FALSE)
summary(cars)
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
kable(head(A1_T11_4))
library(haven)
library(ggplot2)
library(plyr)
library(stargazer)
options(WIDTH=200)
rm(list = ls())
CHOWModel <- read_dta("http://courses.umass.edu/econ753/berndt/stata/chow.dta")
D <- with(CHOWModel, model.matrix(~ 0 + factor(year)))
colnames(D) <- gsub(pattern ="factor\\(year\\)" , replacement ="year", colnames(D))
CHOWModel <- cbind(CHOWModel,D)
View(CHOWModel)
rm(list = ls())
CHOWModel <- read_dta("http://courses.umass.edu/econ753/berndt/stata/chow.dta")
D <- with(CHOWModel, model.matrix(~ 0 + factor(year)))
colnames(D) <- gsub(pattern ="factor\\(year\\)" , replacement ="year", colnames(D))
CHOWModel <- cbind(CHOWModel,D)
######## Part 1 #######
###### Question 3 #####
## a. Correlation matrixes
CHOWModel <- transform(CHOWModel,LNRENT = log(rent), LNMULT=log(mult), LNADD=log(add), LNACCESS=log(access), LNMEM=log(words*binary*digits))
as.dist(cor(subset(CHOWModel,year<60,select =c(LNRENT,LNMULT,LNADD,LNACCESS,LNMEM))),upper =FALSE)
as.dist(cor(subset(CHOWModel,year>=60,select=c(LNRENT,LNMULT,LNADD,LNACCESS,LNMEM))),upper=FALSE)
## b. Regression OLS LNRENT=f(LNMULT, LNACCESS, LNMEM, allyearsdummies) from 1960 to 1965
x60 <- subset(CHOWModel,year>=60)
x60.lm <- lm(LNRENT ~ LNMULT + LNACCESS + LNMEM + year61 + year62 + year63 + year64 + year65, data =x60)
## e. Regression and Price Index
cat(index <- exp(c(0,coef(x60.lm)[5:9]))) ##constructing a hedonic price index exponentiating the coeficients of the year dummy variables##
x60.lm.wls <- lm(LNRENT ~ LNMULT + LNACCESS + LNMEM + year61 + year62 + year63 + year64 + year65, weights =volume, data =x60)
stargazer(x60.lm, x60.lm.wls, type = "text", style = "default", intercept.bottom = FALSE, column.labels = c("OLS", "WLS"))
## Set working directory
setwd("I:/Evan/Documents/Umass/Econ 753/EvanWasner_Econ753_ProblemSets/Assignment 2")
## Libraries
library(tidyverse)
library(XLConnect)
## Clear workplace
rm(list = ls())
dev.off()
## Read CPI-U data from spreadsheet
cpiU <- readWorksheetFromFile("CPI_U.xls",
sheet="Monthly",
startRow=1,
startCol=1)
cpiU <- cbind(cpiU, "CPI-U")
colnames(cpiU) <- c("date", "cpi", "type")
CcpiU <- readWorksheetFromFile("C_CPI_U.xls",
sheet="FRED Graph",
startRow=11,
startCol=1)
CcpiU <- cbind(CcpiU, "C-CPI-U")
colnames(CcpiU) <- c("date", "cpi", "type")
## Separate year and month
cpiU <- mutate(cpiU, year=str_split_fixed(date, "-", 3)[,1], month=str_split_fixed(date, "-", 3)[,2])
CcpiU <- mutate(CcpiU, year=str_split_fixed(date, "-", 3)[,1],
month=str_split_fixed(date, "-", 3)[,2])
## Filter for annual data
cpiUAnnual <- filter(cpiU, month=="01")
CcpiUAnnual <- filter(CcpiU, month=="01")
## Calculate inflation rate
cpiUAnnual <- mutate(cpiUAnnual, previous=lag(cpi), inflation=100*(cpi-previous)/previous)
CcpiUAnnual <- mutate(CcpiUAnnual, previous=lag(cpi), inflation=100*(cpi-previous)/previous)
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 2000), aes(x=year)) + geom_point(aes(y=inflation, color=type)) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 2000), aes(x=year)) + geom_line(aes(y=inflation, color=type)) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 2000), aes(x=year)) + geom_line(aes(y=inflation, color=type, group = 1)) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 2000), aes(x=year)) +
geom_line(aes(y=inflation, color=type, group = 1, size=1)) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 2000), aes(x=year)) +
geom_line(aes(y=inflation, color=type, group = 1, size=0.5)) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 1970), aes(x=year)) +
geom_line(aes(y=inflation, color=type, group = 1, size=0.5)) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 1970), aes(x=year)) +
geom_line(aes(y=inflation, color=type, group = 1, size=0.1)) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 1970), aes(x=year)) +
geom_line(aes(y=inflation, color=type, group = 1, size=0.01)) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
dev.off()
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 1970), aes(x=year)) +
geom_line(aes(y=inflation, color=type, group = 1, size=0.01)) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 1970), aes(x=year)) +
geom_line(aes(y=inflation, color=type, group = 1), size=0.01) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 1970), aes(x=year)) +
geom_line(aes(y=inflation, color=type, group = 1), size=1) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 1970), aes(x=year)) +
geom_line(aes(y=inflation, color=type, group = 1), size=2) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
ggplot(filter(bind_rows(cpiUAnnual,CcpiUAnnual), year >= 1970), aes(x=year)) +
geom_point(aes(y=inflation, color=type), size=2) +
scale_x_discrete(breaks=c(1970,1980,1990,2000,2010,2020))
